# v0.4.22 patchlist

This patch is a targeted hardening + planning bundle:

## Artifact completeness hardening

- Added `--transitive-require-artifacts` to:
  - `corridor state verify`
  - `corridor state fork-inspect`

When enabled, the verifier treats `transition_type_registry_digest_sha256` as a **commitment root** and verifies:

1. The referenced `transition-types.lock` snapshot exists in the artifact CAS.
2. Every schema/ruleset/circuit digest referenced inside that lock snapshot is also present in the CAS.

## Repo-native roadmap

- Added `docs/roadmap/ROADMAP_PRE_0.5.md` (master pre-0.5 workstreams + closure criteria)
- Added `docs/architecture/SMART-ASSET-INTEGRATION.md` (bridge concepts + transition envelope patterns)
- Added `apis/smart-assets.openapi.yaml` scaffold

## Test scaffolding

- Added a new pytest marker `scaffold` (skipped by default; enable with `MSEZ_RUN_SCAFFOLD=1`)
- Added large scenario scaffolds under `tests/scenarios/` to serve as an executable backlog
- Added focused tests for transitive artifact completeness

## Notes

- The scenario scaffolds are intentionally skipped to keep CI fast; they are meant to be progressively implemented and moved into the default test set as features land.
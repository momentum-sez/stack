# Profile: Asset history witness-bundle attestation
#
# This profile is a **policy template** for how an operator network can
# attest to (sign) Smart Asset history witness bundles.
#
# It reuses the normal profile manifest shape (modules + corridors) so it
# can be validated and versioned like any other profile, but adds an
# additional `attestations:` section for operator policy.

profile_id: org.momentum.msez.profile.asset-history-bundle-attestation
stack_spec_version: 0.4.41

# Base module set: minimal operator surface needed for asset operations + review.
modules:
- module_id: org.momentum.msez.legal.core
  version: 0.1.0
  variant: commonlaw-minimal
- module_id: org.momentum.msez.legal.akn-templates
  version: 0.1.0
  variant: default
- module_id: org.momentum.msez.reg.aml-cft
  version: 0.1.0
  variant: risk-based
  params:
    kyc_tier_required: 2
    max_amount_without_enhanced_due_diligence: 5000
- module_id: org.momentum.msez.ops.regulator-console
  version: 0.1.0
  variant: read-only-rbac
- module_id: org.momentum.msez.fin.payments-adapter
  version: 0.1.0
  variant: iso20022-mapping
- module_id: org.momentum.msez.corridor.openbanking
  version: 0.1.0
  variant: api-based

corridors:
- org.momentum.msez.corridor.openbanking.api-based

# Policy extensions (not yet enforced by the CLI; used for coordination + ops docs)
attestations:
  asset_history_witness_bundle:
    vc_type: MSEZArtifactGraphWitnessBundleAttestation
    bundle_format: msez_witness_bundle_zip
    commits_to:
      - sha256(jcs(manifest.json))
    issuer_policy:
      # Recommended: set these to the DIDs (or key IDs) of harbors / auditors
      # authorized to attest bundles for this profile.
      allowed_issuers: []
      notes: >-
        Populate with harbor/auditor DIDs. For production, treat these as a quorum set
        for dispute resolution and regulatory review.
    quorum:
      # Example policy: 2-of-3 harbor witnesses must sign.
      min_signatures: 2
      of: 3
      scope: per_asset_id
      notes: >-
        For high-risk assets, raise min_signatures or require multi-jurisdiction signers.

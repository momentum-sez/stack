{
  "description": "Cross-language canonicalization test vectors generated by Python tools/lawpack.py:jcs_canonicalize()",
  "generator": "python3 tools/lawpack.py:jcs_canonicalize()",
  "notes": {
    "timestamp_divergence": "Python jcs_canonicalize does NOT normalize RFC 3339 timestamp strings (only datetime objects). Rust CanonicalBytes::new() DOES normalize RFC 3339 strings to UTC with Z suffix, truncated to seconds. Test cases containing RFC 3339 strings are marked with 'has_rfc3339_string': true and include separate expected values for Rust.",
    "float_rejection": "Both Python and Rust reject float values with an error.",
    "key_sorting": "Both implementations sort object keys lexicographically.",
    "compact_separators": "Both use compact separators (no whitespace)."
  },
  "test_cases": [
    {
      "name": "simple_flat",
      "input": {"name": "test", "value": 42},
      "has_rfc3339_string": false,
      "canonical_hex": "7b226e616d65223a2274657374222c2276616c7565223a34327d",
      "canonical_utf8": "{\"name\":\"test\",\"value\":42}",
      "sha256_digest": "9a304be829134dbe6b6ccc54e7e78e6e0b477c48a75b8e3042389dbd61617569"
    },
    {
      "name": "nested_with_array",
      "input": {"nested": {"key": "value"}, "array": [1, 2, 3]},
      "has_rfc3339_string": false,
      "canonical_hex": "7b226172726179223a5b312c322c335d2c226e6573746564223a7b226b6579223a2276616c7565227d7d",
      "canonical_utf8": "{\"array\":[1,2,3],\"nested\":{\"key\":\"value\"}}",
      "sha256_digest": "dbb871dfbdafb17761dc55b98f9ff3f96596222000c5cb7ce0ab891213142229"
    },
    {
      "name": "timestamp_string",
      "input": {"timestamp": "2024-01-15T10:30:00+05:00"},
      "has_rfc3339_string": true,
      "canonical_hex": "7b2274696d657374616d70223a22323032342d30312d31355431303a33303a30302b30353a3030227d",
      "canonical_utf8": "{\"timestamp\":\"2024-01-15T10:30:00+05:00\"}",
      "sha256_digest": "b2f122f562f9687c5d5d39103d4823f56d3d5bf5e062fb305dda32427ad48284",
      "rust_canonical_utf8": "{\"timestamp\":\"2024-01-15T05:30:00Z\"}",
      "rust_sha256_digest": "COMPUTED_BY_RUST_TEST"
    },
    {
      "name": "currency_amount",
      "input": {"amount": 1000, "currency": "PKR"},
      "has_rfc3339_string": false,
      "canonical_hex": "7b22616d6f756e74223a313030302c2263757272656e6379223a22504b52227d",
      "canonical_utf8": "{\"amount\":1000,\"currency\":\"PKR\"}",
      "sha256_digest": "9b1be233625c8651ac5b8e7735aa2b081ea88250cf2db4dd0f22325ad586fa60"
    },
    {
      "name": "empty_object",
      "input": {},
      "has_rfc3339_string": false,
      "canonical_hex": "7b7d",
      "canonical_utf8": "{}",
      "sha256_digest": "44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a"
    },
    {
      "name": "empty_array",
      "input": [],
      "has_rfc3339_string": false,
      "canonical_hex": "5b5d",
      "canonical_utf8": "[]",
      "sha256_digest": "4f53cda18c2baa0c0354bb5f9a3ecbe5ed12ab4d8e11ba873c2f11161202b945"
    },
    {
      "name": "null_and_bool",
      "input": {"flag": true, "nothing": null, "off": false},
      "has_rfc3339_string": false,
      "canonical_hex": "7b22666c6167223a747275652c226e6f7468696e67223a6e756c6c2c226f6666223a66616c73657d",
      "canonical_utf8": "{\"flag\":true,\"nothing\":null,\"off\":false}",
      "sha256_digest": "b28f5832fce09cc6034bf66dc5f981106cdfefd4be1cabba2ff8176fa3ec2d65"
    },
    {
      "name": "reverse_key_order",
      "input": {"z": 1, "a": 2, "m": 3},
      "has_rfc3339_string": false,
      "canonical_hex": "7b2261223a322c226d223a332c227a223a317d",
      "canonical_utf8": "{\"a\":2,\"m\":3,\"z\":1}",
      "sha256_digest": "ebba85cfdc0a724b6cc327ecc545faeb38b9fe02eca603b430eb872f5cf75370"
    },
    {
      "name": "deeply_nested",
      "input": {"level1": {"level2": {"level3": {"value": "deep"}}}},
      "has_rfc3339_string": false,
      "canonical_hex": "7b226c6576656c31223a7b226c6576656c32223a7b226c6576656c33223a7b2276616c7565223a2264656570227d7d7d7d",
      "canonical_utf8": "{\"level1\":{\"level2\":{\"level3\":{\"value\":\"deep\"}}}}",
      "sha256_digest": "532cad6ca26ef50060093bb992b45a48d93844bb2e4579ab34c226e38bc317d6"
    },
    {
      "name": "mixed_types",
      "input": {"string": "hello", "integer": 42, "negative": -7, "bool_true": true, "bool_false": false, "null_val": null},
      "has_rfc3339_string": false,
      "canonical_hex": "7b22626f6f6c5f66616c7365223a66616c73652c22626f6f6c5f74727565223a747275652c22696e7465676572223a34322c226e65676174697665223a2d372c226e756c6c5f76616c223a6e756c6c2c22737472696e67223a2268656c6c6f227d",
      "canonical_utf8": "{\"bool_false\":false,\"bool_true\":true,\"integer\":42,\"negative\":-7,\"null_val\":null,\"string\":\"hello\"}",
      "sha256_digest": "e17440d0e2cf7e33968de0a5e4b4194a8b2732c036273b5f737c8244dc408626"
    },
    {
      "name": "unicode_content",
      "input": {"city": "Islamabad", "greeting": "Hello World"},
      "has_rfc3339_string": false,
      "canonical_hex": "7b2263697479223a2249736c616d61626164222c226772656574696e67223a2248656c6c6f20576f726c64227d",
      "canonical_utf8": "{\"city\":\"Islamabad\",\"greeting\":\"Hello World\"}",
      "sha256_digest": "5ce263e1aacfd902e2cc84431d47ecac49ef53781833366b42959193ff16ae8a"
    },
    {
      "name": "large_integer",
      "input": {"big": 999999999999, "small": 0, "neg": -999999999999},
      "has_rfc3339_string": false,
      "canonical_hex": "7b22626967223a3939393939393939393939392c226e6567223a2d3939393939393939393939392c22736d616c6c223a307d",
      "canonical_utf8": "{\"big\":999999999999,\"neg\":-999999999999,\"small\":0}",
      "sha256_digest": "a15baeb5256c2042a34e67412ebce0724ec23847899f50407019fe51f511f1dd"
    },
    {
      "name": "array_of_objects",
      "input": {"items": [{"id": 1, "name": "first"}, {"id": 2, "name": "second"}]},
      "has_rfc3339_string": false,
      "canonical_hex": "7b226974656d73223a5b7b226964223a312c226e616d65223a226669727374227d2c7b226964223a322c226e616d65223a227365636f6e64227d5d7d",
      "canonical_utf8": "{\"items\":[{\"id\":1,\"name\":\"first\"},{\"id\":2,\"name\":\"second\"}]}",
      "sha256_digest": "7f1b86f6c75dd1869ded0c041e32bcb84f995061e769ce509c9b278e4cfb0269"
    },
    {
      "name": "entity_like",
      "input": {"entity_id": "ENT-001", "jurisdiction": "PK-RSEZ", "status": "ACTIVE", "beneficial_owners": ["BO-001", "BO-002"]},
      "has_rfc3339_string": false,
      "canonical_hex": "7b2262656e6566696369616c5f6f776e657273223a5b22424f2d303031222c22424f2d303032225d2c22656e746974795f6964223a22454e542d303031222c226a7572697364696374696f6e223a22504b2d5253455a222c22737461747573223a22414354495645227d",
      "canonical_utf8": "{\"beneficial_owners\":[\"BO-001\",\"BO-002\"],\"entity_id\":\"ENT-001\",\"jurisdiction\":\"PK-RSEZ\",\"status\":\"ACTIVE\"}",
      "sha256_digest": "8b6f9f40b34ce8d1df71dbd6bb3b3274de45a3f4def4001e3b94dc3a29e0eac0"
    },
    {
      "name": "corridor_like",
      "input": {"corridor_id": "CORR-PK-AE-001", "source_zone": "PK-RSEZ", "target_zone": "AE-JAFZA", "state": "ACTIVE"},
      "has_rfc3339_string": false,
      "canonical_hex": "7b22636f727269646f725f6964223a22434f52522d504b2d41452d303031222c22736f757263655f7a6f6e65223a22504b2d5253455a222c227374617465223a22414354495645222c227461726765745f7a6f6e65223a2241452d4a41465a41227d",
      "canonical_utf8": "{\"corridor_id\":\"CORR-PK-AE-001\",\"source_zone\":\"PK-RSEZ\",\"state\":\"ACTIVE\",\"target_zone\":\"AE-JAFZA\"}",
      "sha256_digest": "ca010c46da744ed281f9ee270d879fad84d347d062f790843a7359a37d33f423"
    }
  ]
}

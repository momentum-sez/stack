# Corridor Mesh Topology — MEZ Stack v0.4.44

This document describes the complete autonomous corridor mesh generated by the MEZ Stack's
zone topology. Every zone in the stack is connected to every other zone via a pairwise
corridor, forming a full mesh network. Corridors are the inter-zone communication channels
for receipt chain exchange, compliance tensor queries, and checkpoint verification.

---

## Mesh Statistics

| Metric | Value |
|--------|-------|
| Total Zones | 209 |
| Natural Zones | 189 |
| Synthetic Zones | 20 |
| Total Corridors | 21,736 |
| Corridor Formula | N × (N-1) / 2 = 209 × 208 / 2 |

---

## Zone Breakdown by Region

| Region | Count | Notable Zones |
|--------|-------|---------------|
| United States (states/territories) | 56 | `us-wy` (DAO LLC), `us-ny` (BitLicense), `us-de` (DGCL) |
| UAE (emirates/free zones) | 20 | `ae-abudhabi-adgm` (Tier 1), `ae-dubai-difc`, `ae-dubai-dmcc` |
| Europe | 21 | `gb` (FCA), `ch` (FINMA), `lu` (CSSF), `ee` (e-Residency) |
| Asia-Pacific | 26 | `sg` (Tier 1), `hk` (Tier 1), `jp`, `kr`, `au` |
| Middle East (non-UAE) | 13 | `pk-fed`, `pk-sifc` (Tier 1), `sa`, `bh`, `qa` |
| Africa | 18 | `ke`, `ng`, `za`, `mu`, `rw` |
| Americas (non-US) | 22 | `ca`, `br`, `mx`, `ky` (Tier 1), `bm`, `pa` |
| Central Asia | 6 | `kz`, `kz-aifc`, `ge`, `uz` |
| Synthetic | 20 | `synth-atlantic-fintech`, `synth-gulf-trade-bridge` |
| **Total** | **209** | |

---

## Corridor Type Classification

Corridors are classified into four types based on the jurisdictional relationship
between the two connected zones. Classification is performed by `CorridorRegistry::classify_corridor()`
in `mez/crates/mez-corridor/src/registry.rs`.

| Type | Description | Example |
|------|-------------|---------|
| `CrossBorder` | Two zones in different sovereign jurisdictions | `pk-sifc ↔ sg`, `ae ↔ gb` |
| `IntraFederal` | Two zones sharing a parent jurisdiction | `us-ny ↔ us-ca`, `ae-dubai ↔ ae-abudhabi` |
| `FreeZoneToHost` | Free zone connected to its host emirate/state | `ae-dubai-difc ↔ ae-dubai`, `kz-aifc ↔ kz` |
| `FreeZoneToFreeZone` | Two free zones within the same parent | `ae-dubai-difc ↔ ae-dubai-dmcc` |

### Estimated Corridor Type Distribution

Based on the zone topology:

| Type | Estimated Count | Share |
|------|-----------------|-------|
| CrossBorder | ~19,500 | ~90% |
| IntraFederal | ~1,800 | ~8% |
| FreeZoneToHost | ~80 | <1% |
| FreeZoneToFreeZone | ~350 | ~2% |
| **Total** | **21,736** | **100%** |

The mesh is dominated by cross-border corridors because most zone pairs span different
sovereign jurisdictions. IntraFederal corridors arise primarily from US state-to-state
pairs (56 × 55 / 2 = 1,540) and UAE emirate/free-zone pairs.

---

## Key Corridor Clusters

### US Interstate Mesh (1,540 corridors)

All 56 US states and territories form a complete intra-federal sub-mesh:
- 1,540 IntraFederal corridors
- All share `jurisdiction_stack` prefix `us`
- Each state zone connects to all 153 non-US zones via CrossBorder corridors

### UAE Free Zone Mesh (~190 corridors)

20 UAE zones (federal + 7 emirates + 12 free zones) form a dense sub-mesh:
- FreeZoneToHost: free zones to their parent emirate (e.g., DIFC ↔ Dubai)
- FreeZoneToFreeZone: free zones within the same emirate
- IntraFederal: emirates and free zones to federal and other emirates

### GCC Corridor Network

6 GCC-region natural zones (`ae`, `bh`, `qa`, `om`, `sa`, `kw`) plus sub-zones form
a high-value trade corridor network. The `synth-gulf-trade-bridge` synthetic zone
connects to all GCC zones, enabling unified compliance evaluation across the region.

### Synthetic Zone Connectivity

Each of the 20 synthetic zones connects to all 208 other zones:
- 20 × 208 / 2 = 2,080 corridors involve at least one synthetic zone
- Synthetic-to-synthetic corridors: 20 × 19 / 2 = 190

---

## Generating the Mesh

### Full mesh (all zones)

```bash
# Discover all 209 zones and generate full corridor mesh
mez corridor mesh --all --format dot > mesh.dot

# Generate as JSON adjacency list
mez corridor mesh --all --format json > mesh.json
```

### Subset mesh

```bash
# Specific zones only
mez corridor mesh --zones pk-sifc,sg,hk,ae-abudhabi-adgm,ky --format dot

# US states only (comma-separated)
mez corridor mesh --zones us-ny,us-ca,us-wy,us-tx,us-de --format dot
```

### Visualization

```bash
# Render DOT graph to SVG (requires Graphviz)
dot -Tsvg mesh.dot -o mesh.svg

# Render DOT graph to PNG
dot -Tpng mesh.dot -o mesh.png

# For large meshes, use sfdp layout engine
sfdp -Tsvg mesh.dot -o mesh.svg
```

For the full 209-zone mesh, the `sfdp` (scalable force-directed placement) layout
engine is recommended over `dot` for performance.

---

## Corridor Lifecycle

Each corridor in the mesh follows the v2 lifecycle state machine:

```
Proposed → Active → Suspended → Terminated
                  ↘ Terminated
```

Corridors are generated in `Proposed` state and must be activated via:

1. **Handshake**: Both zones exchange zone manifests and verify compatibility
2. **Receipt exchange**: Initial receipt chain established with genesis root
3. **Checkpoint**: First checkpoint committed by both zones
4. **Activation**: Corridor transitions to `Active` state

See `governance/corridor.lifecycle.state-machine.v2.json` for the full state machine
specification and `spec/40-corridors.md` for the corridor protocol.

---

## Integration Testing

The full mesh is verified by an integration test in `mez/crates/mez-cli/src/corridor.rs`:

```rust
#[test]
fn full_mesh_integration_test() {
    // Discovers all zone directories in jurisdictions/
    // Verifies N*(N-1)/2 corridor completeness
    // Asserts no duplicate corridor IDs
    // Validates corridor type classification
}
```

Run with:
```bash
cd mez && cargo test --package mez-cli --lib -- corridor::tests::full_mesh_integration_test
```

---

*Last updated: 2026-02-20*
*Source: MEZ Stack v0.4.44-GENESIS — full network topology deployment*

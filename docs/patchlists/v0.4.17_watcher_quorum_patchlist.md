# v0.4.17 patchlist â€” Watcher quorum + compact head commitments

This patchlist captures the spec/documentation deltas introduced in v0.4.17.

## 1) Corridor Agreement VC: watcher quorum policy

**Text to find**

Locate the Corridor Agreement VC `state_channel` section (it documents `receipt_signing` and `checkpointing`).

**Insert after**

Insert a new subsection (or field description) for `state_channel.watcher_quorum`:

- `mode`: `optional|required`
- `threshold`: string (`"majority"` or `"K/N"`, e.g. `"3/5"`)
- `required`, `of`: numeric K-of-N fields (optional alternative to `threshold`)
- `max_staleness`: max age for watcher attestations when forming quorum (e.g. `"1h"`, `"PT1H"`)

## 2) Watcher attestation VC: compact head commitment

**Text to find**

Locate the Watcher Attestation VC schema section.

**Insert**

Document new optional fields:

- `genesis_root`: checkpoint-derived genesis hash for the corridor
- `head_commitment_digest_sha256`: deterministic digest over stable head fields so identical heads dedupe even when checkpoints differ in timestamp/proof fields

## 3) Watcher compare: quorum monitoring flags

Document new CLI flags for `mez corridor state watcher-compare`:

- `--quorum-threshold` (e.g. `majority`, `3/5`)
- `--max-staleness` (e.g. `1h`, `PT1H`)
- `--require-quorum` (return non-zero when quorum is not reached)

